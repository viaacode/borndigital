<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:dw="http://www.mulesoft.org/schema/mule/ee/dw" xmlns:mulexml="http://www.mulesoft.org/schema/mule/xml" xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xmlns:spring="http://www.springframework.org/schema/beans" 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-current.xsd
http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/xml http://www.mulesoft.org/schema/mule/xml/current/mule-xml.xsd
http://www.mulesoft.org/schema/mule/ee/dw http://www.mulesoft.org/schema/mule/ee/dw/current/dw.xsd">
    <sub-flow name="medialaan_broadcaster_names">
        <set-variable variableName="broadcaster_dump" value="#['&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-16&quot;?&gt;&lt;legallists version=&quot;3&quot;&gt;  &lt;legallist showsymbols=&quot;0&quot; fixforplatform=&quot;0&quot; name=&quot;MA_BROADCASTER&quot; default=&quot;0&quot;&gt;    &lt;entry id=&quot;0&quot;&gt;      &lt;tenantInfo tenant=&quot;&quot; customindex=&quot;0&quot; shortcut=&quot;&quot;&gt;        &lt;label lang=&quot;DE&quot;&gt;VTM&lt;/label&gt;        &lt;label lang=&quot;EN&quot;&gt;VTM&lt;/label&gt;        &lt;label lang=&quot;NL&quot;&gt;VTM&lt;/label&gt;        &lt;label lang=&quot;NL-BE&quot;&gt;VTM&lt;/label&gt;      &lt;/tenantInfo&gt;      &lt;tenantInfo tenant=&quot;DEFAULT&quot; shortcut=&quot;&quot;&gt;        &lt;label lang=&quot;DE&quot;&gt;VTM&lt;/label&gt;        &lt;label lang=&quot;EN&quot;&gt;VTM&lt;/label&gt;        &lt;label lang=&quot;NL&quot;&gt;VTM&lt;/label&gt;        &lt;label lang=&quot;NL-BE&quot;&gt;VTM&lt;/label&gt;      &lt;/tenantInfo&gt;    &lt;/entry&gt;    &lt;entry id=&quot;1&quot;&gt;      &lt;tenantInfo tenant=&quot;&quot; customindex=&quot;0&quot; shortcut=&quot;&quot;&gt;        &lt;label lang=&quot;DE&quot;&gt;2BE&lt;/label&gt;        &lt;label lang=&quot;EN&quot;&gt;2BE&lt;/label&gt;        &lt;label lang=&quot;NL&quot;&gt;2BE&lt;/label&gt;        &lt;label lang=&quot;NL-BE&quot;&gt;2BE&lt;/label&gt;      &lt;/tenantInfo&gt;      &lt;tenantInfo tenant=&quot;DEFAULT&quot; shortcut=&quot;&quot;&gt;        &lt;label lang=&quot;DE&quot;&gt;2BE&lt;/label&gt;        &lt;label lang=&quot;EN&quot;&gt;2BE&lt;/label&gt;        &lt;label lang=&quot;NL&quot;&gt;2BE&lt;/label&gt;        &lt;label lang=&quot;NL-BE&quot;&gt;2BE&lt;/label&gt;      &lt;/tenantInfo&gt;    &lt;/entry&gt;    &lt;entry id=&quot;2&quot;&gt;      &lt;tenantInfo tenant=&quot;&quot; customindex=&quot;0&quot; shortcut=&quot;&quot;&gt;        &lt;label lang=&quot;DE&quot;&gt;JIMTV&lt;/label&gt;        &lt;label lang=&quot;EN&quot;&gt;JIMTV&lt;/label&gt;        &lt;label lang=&quot;NL&quot;&gt;JIMTV&lt;/label&gt;        &lt;label lang=&quot;NL-BE&quot;&gt;JIMTV&lt;/label&gt;      &lt;/tenantInfo&gt;      &lt;tenantInfo tenant=&quot;DEFAULT&quot; shortcut=&quot;&quot;&gt;        &lt;label lang=&quot;DE&quot;&gt;JIMTV&lt;/label&gt;        &lt;label lang=&quot;EN&quot;&gt;JIMTV&lt;/label&gt;        &lt;label lang=&quot;NL&quot;&gt;JIMTV&lt;/label&gt;        &lt;label lang=&quot;NL-BE&quot;&gt;JIMTV&lt;/label&gt;      &lt;/tenantInfo&gt;    &lt;/entry&gt;    &lt;entry id=&quot;3&quot;&gt;      &lt;tenantInfo tenant=&quot;&quot; customindex=&quot;0&quot; shortcut=&quot;&quot;&gt;        &lt;label lang=&quot;DE&quot;&gt;KANAAL Z&lt;/label&gt;        &lt;label lang=&quot;EN&quot;&gt;KANAAL Z&lt;/label&gt;        &lt;label lang=&quot;NL&quot;&gt;KANAAL Z&lt;/label&gt;        &lt;label lang=&quot;NL-BE&quot;&gt;KANAAL Z&lt;/label&gt;      &lt;/tenantInfo&gt;      &lt;tenantInfo tenant=&quot;DEFAULT&quot; customindex=&quot;0&quot; shortcut=&quot;&quot;&gt;        &lt;label lang=&quot;DE&quot;&gt;KANAAL Z&lt;/label&gt;        &lt;label lang=&quot;EN&quot;&gt;KANAAL Z&lt;/label&gt;        &lt;label lang=&quot;NL&quot;&gt;KANAAL Z&lt;/label&gt;        &lt;label lang=&quot;NL-BE&quot;&gt;KANAAL Z&lt;/label&gt;      &lt;/tenantInfo&gt;    &lt;/entry&gt;    &lt;entry id=&quot;4&quot;&gt;      &lt;tenantInfo tenant=&quot;&quot; customindex=&quot;0&quot; shortcut=&quot;&quot;&gt;        &lt;label lang=&quot;DE&quot;&gt;Vitaya&lt;/label&gt;        &lt;label lang=&quot;EN&quot;&gt;Vitaya&lt;/label&gt;        &lt;label lang=&quot;NL&quot;&gt;Vitaya&lt;/label&gt;        &lt;label lang=&quot;NL-BE&quot;&gt;Vitaya&lt;/label&gt;      &lt;/tenantInfo&gt;      &lt;tenantInfo tenant=&quot;DEFAULT&quot; shortcut=&quot;&quot;&gt;        &lt;label lang=&quot;DE&quot;&gt;Vitaya&lt;/label&gt;        &lt;label lang=&quot;EN&quot;&gt;Vitaya&lt;/label&gt;        &lt;label lang=&quot;NL&quot;&gt;Vitaya&lt;/label&gt;        &lt;label lang=&quot;NL-BE&quot;&gt;Vitaya&lt;/label&gt;      &lt;/tenantInfo&gt;    &lt;/entry&gt;    &lt;entry id=&quot;5&quot;&gt;      &lt;tenantInfo tenant=&quot;&quot; customindex=&quot;0&quot; shortcut=&quot;&quot;&gt;        &lt;label lang=&quot;DE&quot;&gt;KZOOM&lt;/label&gt;        &lt;label lang=&quot;EN&quot;&gt;KZOOM&lt;/label&gt;        &lt;label lang=&quot;NL&quot;&gt;KZOOM&lt;/label&gt;        &lt;label lang=&quot;NL-BE&quot;&gt;KZOOM&lt;/label&gt;      &lt;/tenantInfo&gt;      &lt;tenantInfo tenant=&quot;DEFAULT&quot; shortcut=&quot;&quot;&gt;        &lt;label lang=&quot;DE&quot;&gt;KZOOM&lt;/label&gt;        &lt;label lang=&quot;EN&quot;&gt;KZOOM&lt;/label&gt;        &lt;label lang=&quot;NL&quot;&gt;KZOOM&lt;/label&gt;        &lt;label lang=&quot;NL-BE&quot;&gt;KZOOM&lt;/label&gt;      &lt;/tenantInfo&gt;    &lt;/entry&gt;    &lt;entry id=&quot;6&quot;&gt;      &lt;tenantInfo tenant=&quot;&quot; customindex=&quot;0&quot; shortcut=&quot;&quot;&gt;        &lt;label lang=&quot;DE&quot;&gt;Q-Music.be&lt;/label&gt;        &lt;label lang=&quot;EN&quot;&gt;Q-Music.be&lt;/label&gt;        &lt;label lang=&quot;NL&quot;&gt;Q-Music.be&lt;/label&gt;        &lt;label lang=&quot;NL-BE&quot;&gt;Q-Music.be&lt;/label&gt;      &lt;/tenantInfo&gt;      &lt;tenantInfo tenant=&quot;DEFAULT&quot; shortcut=&quot;&quot;&gt;        &lt;label lang=&quot;DE&quot;&gt;Q-Music.be&lt;/label&gt;        &lt;label lang=&quot;EN&quot;&gt;Q-Music.be&lt;/label&gt;        &lt;label lang=&quot;NL&quot;&gt;Q-Music.be&lt;/label&gt;        &lt;label lang=&quot;NL-BE&quot;&gt;Q-Music.be&lt;/label&gt;      &lt;/tenantInfo&gt;    &lt;/entry&gt;    &lt;entry id=&quot;7&quot;&gt;      &lt;tenantInfo tenant=&quot;&quot; customindex=&quot;0&quot; shortcut=&quot;&quot;&gt;        &lt;label lang=&quot;DE&quot;&gt;Joe&lt;/label&gt;        &lt;label lang=&quot;EN&quot;&gt;Joe&lt;/label&gt;        &lt;label lang=&quot;NL&quot;&gt;Joe&lt;/label&gt;        &lt;label lang=&quot;NL-BE&quot;&gt;Joe&lt;/label&gt;      &lt;/tenantInfo&gt;      &lt;tenantInfo tenant=&quot;DEFAULT&quot; shortcut=&quot;&quot;&gt;        &lt;label lang=&quot;DE&quot;&gt;Joe&lt;/label&gt;        &lt;label lang=&quot;EN&quot;&gt;Joe&lt;/label&gt;        &lt;label lang=&quot;NL&quot;&gt;Joe&lt;/label&gt;        &lt;label lang=&quot;NL-BE&quot;&gt;Joe&lt;/label&gt;      &lt;/tenantInfo&gt;    &lt;/entry&gt;    &lt;entry id=&quot;8&quot;&gt;      &lt;tenantInfo tenant=&quot;&quot; customindex=&quot;0&quot; shortcut=&quot;&quot;&gt;        &lt;label lang=&quot;DE&quot;&gt;VOD&lt;/label&gt;        &lt;label lang=&quot;EN&quot;&gt;VOD&lt;/label&gt;        &lt;label lang=&quot;NL&quot;&gt;VOD&lt;/label&gt;        &lt;label lang=&quot;NL-BE&quot;&gt;VOD&lt;/label&gt;      &lt;/tenantInfo&gt;      &lt;tenantInfo tenant=&quot;DEFAULT&quot; shortcut=&quot;&quot;&gt;        &lt;label lang=&quot;DE&quot;&gt;VOD&lt;/label&gt;        &lt;label lang=&quot;EN&quot;&gt;VOD&lt;/label&gt;        &lt;label lang=&quot;NL&quot;&gt;VOD&lt;/label&gt;        &lt;label lang=&quot;NL-BE&quot;&gt;VOD&lt;/label&gt;      &lt;/tenantInfo&gt;    &lt;/entry&gt;    &lt;entry id=&quot;9&quot;&gt;      &lt;tenantInfo tenant=&quot;&quot; customindex=&quot;0&quot; shortcut=&quot;&quot;&gt;        &lt;label lang=&quot;DE&quot;&gt;KADET&lt;/label&gt;        &lt;label lang=&quot;EN&quot;&gt;KADET&lt;/label&gt;        &lt;label lang=&quot;NL&quot;&gt;KADET&lt;/label&gt;        &lt;label lang=&quot;NL-BE&quot;&gt;KADET&lt;/label&gt;      &lt;/tenantInfo&gt;      &lt;tenantInfo tenant=&quot;DEFAULT&quot; shortcut=&quot;&quot;&gt;        &lt;label lang=&quot;DE&quot;&gt;KADET&lt;/label&gt;        &lt;label lang=&quot;EN&quot;&gt;KADET&lt;/label&gt;        &lt;label lang=&quot;NL&quot;&gt;KADET&lt;/label&gt;        &lt;label lang=&quot;NL-BE&quot;&gt;KADET&lt;/label&gt;      &lt;/tenantInfo&gt;    &lt;/entry&gt;    &lt;entry id=&quot;10&quot;&gt;      &lt;tenantInfo tenant=&quot;&quot; customindex=&quot;0&quot; shortcut=&quot;&quot;&gt;        &lt;label lang=&quot;DE&quot;&gt;MEDIALAAN&lt;/label&gt;        &lt;label lang=&quot;EN&quot;&gt;MEDIALAAN&lt;/label&gt;        &lt;label lang=&quot;NL&quot;&gt;MEDIALAAN&lt;/label&gt;        &lt;label lang=&quot;NL-BE&quot;&gt;MEDIALAAN&lt;/label&gt;      &lt;/tenantInfo&gt;      &lt;tenantInfo tenant=&quot;DEFAULT&quot; shortcut=&quot;&quot;&gt;        &lt;label lang=&quot;DE&quot;&gt;MEDIALAAN&lt;/label&gt;        &lt;label lang=&quot;EN&quot;&gt;MEDIALAAN&lt;/label&gt;        &lt;label lang=&quot;NL&quot;&gt;MEDIALAAN&lt;/label&gt;        &lt;label lang=&quot;NL-BE&quot;&gt;MEDIALAAN&lt;/label&gt;      &lt;/tenantInfo&gt;    &lt;/entry&gt;    &lt;entry id=&quot;11&quot;&gt;      &lt;tenantInfo tenant=&quot;&quot; customindex=&quot;0&quot; shortcut=&quot;&quot;&gt;        &lt;label lang=&quot;DE&quot;&gt;Q2&lt;/label&gt;        &lt;label lang=&quot;EN&quot;&gt;Q2&lt;/label&gt;        &lt;label lang=&quot;NL&quot;&gt;Q2&lt;/label&gt;        &lt;label lang=&quot;NL-BE&quot;&gt;Q2&lt;/label&gt;      &lt;/tenantInfo&gt;      &lt;tenantInfo tenant=&quot;DEFAULT&quot; shortcut=&quot;&quot;&gt;        &lt;label lang=&quot;DE&quot;&gt;Q2&lt;/label&gt;        &lt;label lang=&quot;EN&quot;&gt;Q2&lt;/label&gt;        &lt;label lang=&quot;NL&quot;&gt;Q2&lt;/label&gt;        &lt;label lang=&quot;NL-BE&quot;&gt;Q2&lt;/label&gt;      &lt;/tenantInfo&gt;    &lt;/entry&gt;    &lt;entry id=&quot;12&quot;&gt;      &lt;tenantInfo tenant=&quot;&quot; customindex=&quot;0&quot; shortcut=&quot;&quot;&gt;        &lt;label lang=&quot;DE&quot;&gt;CAZ&lt;/label&gt;        &lt;label lang=&quot;EN&quot;&gt;CAZ&lt;/label&gt;        &lt;label lang=&quot;NL&quot;&gt;CAZ&lt;/label&gt;        &lt;label lang=&quot;NL-BE&quot;&gt;CAZ&lt;/label&gt;      &lt;/tenantInfo&gt;      &lt;tenantInfo tenant=&quot;DEFAULT&quot; shortcut=&quot;&quot;&gt;        &lt;label lang=&quot;DE&quot;&gt;CAZ&lt;/label&gt;        &lt;label lang=&quot;EN&quot;&gt;CAZ&lt;/label&gt;        &lt;label lang=&quot;NL&quot;&gt;CAZ&lt;/label&gt;        &lt;label lang=&quot;NL-BE&quot;&gt;CAZ&lt;/label&gt;      &lt;/tenantInfo&gt;    &lt;/entry&gt;  &lt;/legallist&gt;&lt;/legallists&gt;']" doc:name="Set broadcaster_dump" encoding="UTF-16"/>
        <set-payload value="#[flowVars.broadcaster_dump]" doc:name="Set Payload"/>
        <mulexml:dom-to-xml-transformer mimeType="application/xml" outputEncoding="UTF-16" doc:name="DOM to XML"/>
        <dw:transform-message doc:name="Transform Message">
            <dw:input-payload doc:sample="sample_data/empty_2.xml"/>
            <dw:set-payload><![CDATA[%dw 1.0
%output application/java
---
(payload.legallists.legallist.*entry filter $.@id == flowVars.broadcaster_id mapObject using (entry = $)
	(entry.*tenantInfo filter $.@tenant == "DEFAULT" mapObject using (label = $)
		(label filter $.@lang == "NL-BE" mapObject
			(broadcaster_name: $)
		)
	)
)]]></dw:set-payload>
        </dw:transform-message>
        <set-variable variableName="broadcaster_name" value="#[payload.broadcaster_name]" doc:name="Set broadcaster_name"/>
    </sub-flow>
</mule>
